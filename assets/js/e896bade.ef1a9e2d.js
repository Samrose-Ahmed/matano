"use strict";(self.webpackChunk_matano_website=self.webpackChunk_matano_website||[]).push([[1087],{3905:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>g});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=o.createContext({}),c=function(e){var t=o.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=c(e.components);return o.createElement(u.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,u=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=c(n),g=r,f=d["".concat(u,".").concat(g)]||d[g]||p[g]||a;return n?o.createElement(f,i(i({ref:t},l),{},{components:n})):o.createElement(f,i({ref:t},l))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=d;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<a;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},57862:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var o=n(87462),r=(n(67294),n(3905));const a={title:"Ingestion",sidebar_position:2},i=void 0,s={unversionedId:"log-sources/ingestion",id:"log-sources/ingestion",title:"Ingestion",description:"You can ingest data from any log source using Matano. To ingest a log source into Matano, you can use either S3 or SQS ingestion.",source:"@site/docs/log-sources/ingestion.md",sourceDirName:"log-sources",slug:"/log-sources/ingestion",permalink:"/docs/log-sources/ingestion",draft:!1,editUrl:"https://github.com/matanolabs/matano/tree/main/website/docs/log-sources/ingestion.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Ingestion",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Log sources",permalink:"/docs/log-sources/"},next:{title:"Log source schema",permalink:"/docs/log-sources/schema"}},u={},c=[{value:"S3 Ingestion",id:"s3-ingestion",level:2},{value:"Using the Matano provided sources bucket",id:"using-the-matano-provided-sources-bucket",level:3},{value:"Bringing your own bucket",id:"bringing-your-own-bucket",level:3}],l={toc:c};function p(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"You can ingest data from any log source using Matano. To ingest a log source into Matano, you can use either S3 or SQS ingestion."),(0,r.kt)("h2",{id:"s3-ingestion"},"S3 Ingestion"),(0,r.kt)("p",null,"When you use S3 ingestion, Matano ingests data from your log source using an S3 bucket. You can either use a Matano provided bucket or bring your own bucket if you have existing."),(0,r.kt)("h3",{id:"using-the-matano-provided-sources-bucket"},"Using the Matano provided sources bucket"),(0,r.kt)("p",null,"Matano creates a managed S3 bucket for you to use for S3 ingestion. You can use this bucket to ingest data into Matano."),(0,r.kt)("p",null,"When sending data to the Matano provided sources bucket, upload files to the ",(0,r.kt)("inlineCode",{parentName:"p"},"/data/<log_source_name>")," prefix where ",(0,r.kt)("inlineCode",{parentName:"p"},"log_source_name")," is the name of your log source that you specified in your ",(0,r.kt)("inlineCode",{parentName:"p"},"log_source.yml")," file."),(0,r.kt)("p",null,"For example, to upload data for a log source named ",(0,r.kt)("inlineCode",{parentName:"p"},"serverlogs"),", you would upload data to the following key prefixes:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"/data/serverlogs/d007cb0d-7c00-43aa-b9a9-f7cc37e780dc.json\n/data/serverlogs/80cd10db-7760-4e34-830d-b98342dd180a.json\n")),(0,r.kt)("p",null,"If you are getting started, don't have existing data, or need your raw data to be a specific location, prefer using the Matano provided sources bucket."),(0,r.kt)("h3",{id:"bringing-your-own-bucket"},"Bringing your own bucket"),(0,r.kt)("p",null,"If you have existing data, or need to have your raw data in a specific location, you can configure Matano to ingest data from a provided S3 location."),(0,r.kt)("p",null,"In your ",(0,r.kt)("inlineCode",{parentName:"p"},"log_source.yml"),", specify the S3 Bucket and object prefix that your data is located at:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-yml"},'ingest:\n    s3_source:\n        bucket_name: "my-org-logs-bucket"\n        key_prefix: "data/mypath"\n')),(0,r.kt)("p",null,"If you are bringing your own bucket, you need to ensure that you have correctly set up permissions on the bucket for Matano to be able to access it."))}p.isMDXComponent=!0}}]);