"use strict";(self.webpackChunk_matano_website=self.webpackChunk_matano_website||[]).push([[2889],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>d});var n=r(67294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var i=n.createContext({}),l=function(e){var t=n.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},u=function(e){var t=l(e.components);return n.createElement(i.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,i=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),p=l(r),d=o,f=p["".concat(i,".").concat(d)]||p[d]||m[d]||a;return r?n.createElement(f,s(s({ref:t},u),{},{components:r})):n.createElement(f,s({ref:t},u))}));function d(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,s=new Array(a);s[0]=p;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c.mdxType="string"==typeof e?e:o,s[1]=c;for(var l=2;l<a;l++)s[l]=r[l];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}p.displayName="MDXCreateElement"},41042:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>m,frontMatter:()=>a,metadata:()=>c,toc:()=>l});var n=r(87462),o=(r(67294),r(3905));const a={title:"Log source schema",sidebar_position:2},s=void 0,c={unversionedId:"log-sources/schema",id:"log-sources/schema",title:"Log source schema",description:"You define the shape of your log source's data by defining a schema.",source:"@site/docs/log-sources/schema.md",sourceDirName:"log-sources",slug:"/log-sources/schema",permalink:"/docs/log-sources/schema",draft:!1,editUrl:"https://github.com/matanolabs/matano/tree/main/website/docs/log-sources/schema.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Log source schema",sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/docs/log-sources/overview"},next:{title:"Querying log sources",permalink:"/docs/log-sources/querying"}},i={},l=[{value:"Common schema (default)",id:"common-schema-default",level:2},{value:"Extending the common schema",id:"extending-the-common-schema",level:2}],u={toc:l};function m(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"You define the shape of your log source's data by defining a ",(0,o.kt)("em",{parentName:"p"},"schema"),"."),(0,o.kt)("h2",{id:"common-schema-default"},"Common schema (default)"),(0,o.kt)("p",null,"By default, a log source will use the ",(0,o.kt)("a",{parentName:"p",href:"https://www.elastic.co/guide/en/ecs/current/ecs-reference.html"},(0,o.kt)("strong",{parentName:"a"},"Elastic Common Schema (ECS)")),". ECS is a popular format that defines a common set of fields to be used when storing log data. "),(0,o.kt)("p",null,"Matano encourages you to normalize your log data to ECS, so you can best analyze, and correlate the data represented in your events."),(0,o.kt)("p",null,"Matano can ingest from sources that use already use ECS, like Beats processors, without requiring transformation. Otherwise, you can use a ",(0,o.kt)("a",{parentName:"p",href:"#"},"pre-built Matano transformation")," to normalize data from a supported source to ECS or write your ",(0,o.kt)("a",{parentName:"p",href:"#"},"own transformation")," to normalize log data."),(0,o.kt)("p",null,"Matano currently supports ECS version ",(0,o.kt)("strong",{parentName:"p"},"8.3.1"),"."),(0,o.kt)("h2",{id:"extending-the-common-schema"},"Extending the common schema"),(0,o.kt)("p",null,"ECS is a permissive schema, that encourages you to add columns using custom field names for data that doesn't completely map to ECS. "),(0,o.kt)("p",null,"To add custom fields to ECS for a Matano log source, you can define the fields in your ",(0,o.kt)("inlineCode",{parentName:"p"},"log_source.yml")," configuration file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yml"},'schema:\n  fields:\n    - name: "my_additional_field"\n      type: "string"\n    - name: "additional_struct"\n      type:\n        type: "struct"\n        fields:\n          - name: "field_one"\n            type: "string"\n          - name: "field_two"\n            type: "int"\n')),(0,o.kt)("p",null,"These fields will be merged with ECS fields in the final log source schema."),(0,o.kt)("p",null,"The schema configuration follows the ",(0,o.kt)("a",{parentName:"p",href:"https://iceberg.apache.org/spec/#schemas"},"Apache Iceberg schema format")," in JSON/YAML format. See a ",(0,o.kt)("a",{parentName:"p",href:"https://iceberg.apache.org/spec/#schemas"},"complete specification here"),"."))}m.isMDXComponent=!0}}]);