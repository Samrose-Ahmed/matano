"use strict";(self.webpackChunk_matano_website=self.webpackChunk_matano_website||[]).push([[9632],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>d});var n=r(67294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var l=n.createContext({}),c=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},u=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},g={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var r=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),p=c(r),d=o,m=p["".concat(l,".").concat(d)]||p[d]||g[d]||a;return r?n.createElement(m,s(s({ref:t},u),{},{components:r})):n.createElement(m,s({ref:t},u))}));function d(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=r.length,s=new Array(a);s[0]=p;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var c=2;c<a;c++)s[c]=r[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}p.displayName="MDXCreateElement"},80276:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>g,frontMatter:()=>a,metadata:()=>i,toc:()=>c});var n=r(87462),o=(r(67294),r(3905));const a={title:"Querying log sources"},s=void 0,i={unversionedId:"log-sources/querying",id:"log-sources/querying",title:"Querying log sources",description:"All Matano log sources are stored as Iceberg tables, with data stored in Parquet files on S3. You can query and interact with these like any other Iceberg table, using Athena, Spark, or any other technology supporting Iceberg. This ensures your data is free from vendor lock-in and open to a variety of data tooling.",source:"@site/docs/log-sources/querying.md",sourceDirName:"log-sources",slug:"/log-sources/querying",permalink:"/docs/log-sources/querying",draft:!1,editUrl:"https://github.com/matanolabs/matano/tree/main/website/docs/log-sources/querying.md",tags:[],version:"current",frontMatter:{title:"Querying log sources"},sidebar:"tutorialSidebar",previous:{title:"Log sources overview",permalink:"/docs/log-sources/overview"},next:{title:"Log source schema",permalink:"/docs/log-sources/schema"}},l={},c=[{value:"Notes",id:"notes",level:2},{value:"Querying a log source",id:"querying-a-log-source",level:2},{value:"Advanced",id:"advanced",level:2},{value:"Performing ACID transactions",id:"performing-acid-transactions",level:3}],u={toc:c};function g(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"All Matano log sources are stored as Iceberg tables, with data stored in Parquet files on S3. You can query and interact with these like any other Iceberg table, using Athena, Spark, or any other technology supporting Iceberg. This ensures your data is free from vendor lock-in and open to a variety of data tooling."),(0,o.kt)("h2",{id:"notes"},"Notes"),(0,o.kt)("p",null,"Matano log sources are stored in AWS Glue database named ",(0,o.kt)("strong",{parentName:"p"},"matano"),", with the Iceberg table name as the log source name specified in your ",(0,o.kt)("inlineCode",{parentName:"p"},"matano.config.yml"),". "),(0,o.kt)("h2",{id:"querying-a-log-source"},"Querying a log source"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"See more on ",(0,o.kt)("a",{parentName:"strong",href:"https://docs.aws.amazon.com/athena/latest/ug/querying-iceberg.html"},"Querying Iceberg tables")," in Athena.")),(0,o.kt)("p",null,"You can query a log source from Athena using the following syntax:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sql"},"SELECT * FROM matano.log_source_name [WHERE predicate]\n")),(0,o.kt)("h2",{id:"advanced"},"Advanced"),(0,o.kt)("h3",{id:"performing-acid-transactions"},"Performing ACID transactions"),(0,o.kt)("p",null,"Iceberg tables support ACID transactions such as deleting, inserting, and updating. You can use this feature if you need to modify your data for compliance, legal, or any other reason, without having to copy and re-load your entire dataset."),(0,o.kt)("p",null,"See ",(0,o.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/athena/latest/ug/querying-iceberg-updating-iceberg-table-data.html"},"Updating Iceberg table data")," on the syntax to perform Update and Delete transactions on your log sources."))}g.isMDXComponent=!0}}]);